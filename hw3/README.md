# Убираем строительные леса... Сдаем работу заказчику!

## RamStorage - уходи!... Или нет?...

Давайте хранить `User` / `Task` в `PostgreSQL`, а `Session` в `Redis`.  

Если вы писали код достаточно модульно, то это не составит для вас труда - вам придется просто переписать внутренности `Storage`.  
В коде вы можете завести для каждой модели свой `repository` и положить их в `Storage` - так вы его логически разобьете, и сделаете код более читаемый и модульным:      

```
struct Storage {
    userRepository;
    taskRepository;
    sessionRepository
}
```

Добавьте первые миграции - пропишите схему имеющихся табличек. б
Базы добавьте в `docker-compose.yml`. Добавьте конфиг файл `yml` формата для двух своих имеющихся сервером, в котором вы пропишите всю информацию, необходимую для подключения к БД / брокерам (их host, port и т. д.).


## Prometheus + Grafana = <3

Давайте добавим сбор метрик на ваших нодах, добавьте в `Processor` метрику время выполнения запроса и используемые фильтры/используемые трансляторы.    
